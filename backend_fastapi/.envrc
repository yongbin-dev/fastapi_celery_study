# .envrc - direnv μλ™ ν™κ²½ μ„¤μ •
# μ΄ νμΌμ€ λ””λ ‰ν† λ¦¬ μ§„μ…μ‹ μλ™μΌλ΅ μ‹¤ν–‰λ©λ‹λ‹¤.

# κ°€μƒν™κ²½ ν™μ„±ν™”
if [ -d ".venv" ]; then
    source ./.venv/bin/activate
    echo "π κ°€μƒν™κ²½ μλ™ ν™μ„±ν™”: $(basename $VIRTUAL_ENV)"
else
    echo "β οΈ  κ°€μƒν™κ²½μ΄ μ—†μµλ‹λ‹¤. 'poetry install' μ‹¤ν–‰ν•΄μ£Όμ„Έμ”."
fi

# Python κ²½λ΅ ν™•μΈ λ° μ„¤μ •
export PYTHONPATH="${PWD}:${PYTHONPATH}"

# κ°λ° ν™κ²½ λ³€μ λ΅λ“
if [ -f ".env.development" ]; then
    set -a
    source .env.development
    set +a
    echo "π“‹ κ°λ°ν™κ²½ μ„¤μ • λ΅λ“μ™„λ£"
fi

# Poetry κ°€μƒν™κ²½ κ²½λ΅ ν™•μΈ
if command -v poetry >/dev/null 2>&1; then
    export POETRY_VENV_PATH=$(poetry env info --path 2>/dev/null || echo "")
fi

# scripts λ””λ ‰ν† λ¦¬λ¥Ό PATHμ— μ¶”κ°€
export PATH="${PWD}/scripts:${PATH}"

echo "β… κ°λ°ν™κ²½ μ¤€λΉ„ μ™„λ£! 'help' λ…λ Ήμ–΄λ΅ μ‚¬μ©λ²•μ„ ν™•μΈν•μ„Έμ”."